{% extends "LouvresCommandeBundle::layout.html.twig" %}

{% block title %}
    Billetterie - Musée du Louvres
{% endblock %}

{% block nav %}
    {{ parent() }}
{% endblock %}

{% block body %}
    <!-- En tête blanche -->
    <div class="header">
        <div class="container-fluid">
            <div class="header_texte row">
                <div class="col-xs-12 col-sm-12">
                    <h1>Musée du Louvre</h1>
                    <p>Bienvenue sur la plateforme de réservation de billets en ligne.</p>
                    <div class="hidden-xs">
                        <p>N'attendez plus en caisse et profitez plus rapidement des expositions.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Premier encart gris : 1.Choisissez la date -->
    <div class="encart_gris">
        <div class="container-fluid">
            <p>1. Choisissez la date</p>
        </div>
    </div>

    <!-- Datepicker  -->
    <div class="date_picker">
        <div class="container row">
            {{ form_start(formCommande, {'action': path('Louvres_commande_home')}) }}
            {{ form_errors(formCommande) }}
            {{ form_widget(formCommande.dateVisite, {'attr': {'id': 'datepicker', 'class': 'col-sm-6 col-md-5 col-lg-4'}}) }}
        <!--    <div id="datepicker" class="col-sm-6 col-md-5 col-lg-4">
            </div> -->
            <div class="legende hidden-xs col-sm-4 col-md-3 col-lg-3">
                <div class="row">
                    <div class="legend_select col-sm-offset-1 col-sm-1">
                    </div>
                    <p class="col-sm-9">Date sélectionnée</p>
                </div>

                <div class="row">
                    <div class="legend_ouvert col-sm-offset-1 col-sm-1">
                    </div>
                    <p class="col-sm-9">Ouvert</p>
                </div>

                <div class="row">
                    <div class="legend_ferme col-sm-offset-1 col-sm-1">
                    </div>
                    <p class="col-sm-9">Fermé</p>
                </div>

                <div class="row">
                    <div class="legend_complet col-sm-offset-1 col-sm-1">
                    </div>
                    <p class="col-sm-9">Complet</p>
                </div>
            </div>
        </div>
    </div>


    <!-- Deuxième encart gris : 2.Choisissez le type de billets -->
    <div class="encart_gris">
        <div class="container-fluid">
            <p>2. Choisissez le type de billet</p>
        </div>
    </div>

    <!-- Selection du type de billet-->
    <div class="type_billet">
        <div class="container row">
            <p id="date_selectionnee">
                Veuillez d'abord selectionner une date.
            </p>
            <!--Forumaire pour le type de billet-->
            <div id="form_type_billet">
                {% for child in formCommande.typeBillet %}
                    <div class="radio">
                        {{ form_widget(child, {'attr': {'class': child.vars.label}}) }}
                        {{ child.vars.label }}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Troisième encart gris : 3.Choisissez le nombre de billets -->
 <!--   <div class="encart_gris">
        <div class="container-fluid">
            <p>3. Choisissez le nombre de billets</p>
        </div>
    </div> -->

    <!-- Selection du nombre de billets
    <div id="nbr_billet">
        <div class="container row">
            <div class="form-horizontal tableau_tarifs">
                <div class="row form-group">
                 {#   {{ form_label(formCommande.nbBillet, "Nombre de billets :", {'label_attr': {'class': 'texte_billet col-xs-6 col-sm-3 col-md-2'}}) }}#}
                  {#  {{ form_errors(formCommande.nbBillet) }}#}
                    <div class="select col-xs-4 col-sm-3 col-md-2">
                    {#    {{ form_widget(formCommande.nbBillet, {'attr': {'class': 'form-control input-sm option_nbbillets'}}) }}#}
                    </div>
                </div>
            </div>
        </div>
    </div>-->

    <!-- Quatrième encart gris : 4.Renseignez ces informations -->
    <div class="encart_gris">
        <div class="container-fluid">
            <p>3. Choisissez le nombre de billets</p>
        </div>
    </div>

    <!-- Renseignements des coordonnées-->
    <div id="info_visiteur">
        <div class="container">
            <div id="billet">
            <!-- Formulaire type pour les billets normal, enfant, réduit, senior et famille --->
                <div class="billets" data-prototype="
                {% filter escape %}
                    {{ include('LouvresCommandeBundle:Commande:prototype.html.twig', { 'form': formCommande.billets.vars.prototype }) }}
                {% endfilter %}">
                </div>
            </div>
        </div>
    </div>


<!-- Cinquième encart gris : 5. Récapitulatif de la commande -->
    <div class="encart_gris">
        <div class="container-fluid">
            <p>4. Récapitulatif de la commande</p>
        </div>
    </div>

    <!-- Jour de visite + nombre de billets de chaque catégorie + prix total-->
    <div id="prix_total">
        <p id="verif">Veuillez saisir tous les champs pour valider la commande</p>
        <div id="detail_commande">
            <p>Jour de la visite : <span id="jour_visite"></span><span id="type_billet"></span></p>
            <p> Nombre de billets : <span id="nombre_billets"></span></p>
            <div id="details_billets"></div>
            <p id ="total_commande"><strong>Total de la commande : <span id="prix">0 €</span></strong></p>
        </div>
    <!--   <button id="btn-reset" type="submit" class="btn btn-warning btn-sm col-sm-offset-4 col-xs-offset-1">Reset</button> -->
        {{ form_widget(formCommande.valider, {'attr': {'class': 'btn btn-default btn-sm col-sm-offset-4 col-xs-offset-1', 'id' : 'btn-valider'}}) }}
    <!--    <button id="btn-valider" type="submit" class="btn btn-default btn-sm col-sm-offset-4 col-xs-offset-1">Valider la commande</button> -->
        {{ form_rest(formCommande) }}
        {{ form_end(formCommande) }}
    </div>

{% endblock %}

{% block footer %}
{{ parent() }}
{% endblock %}

{% block javascript %}
{{ parent() }}
{% javascripts
'@LouvresCommandeBundle/Resources/public/js/commande2.js'
'@LouvresCommandeBundle/Resources/public/js/jquery.flagstrap.min.js' %}
<script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}
{% endblock %}

